# Space Trader for Java 8

[abbreviated version of this documentation in Russian](README_RU.md)

Fully reworked version of [Space Trader for Java](https://sourceforge.net/projects/spacetraderjava/files/Space%20Trader%20Java/Version%201.12/) from Aviv Eyal.

The project is a Java port of the [Space Trader for Windows](https://sourceforge.net/projects/spacetraderwin) from [Jay French](http://web.archive.org/web/20040212092717/http://www.frenchfryz.com:80/jay/spacetrader/home.php), which is a C# port of the [original](http://ticc.uvt.nl/~pspronck/spacetrader/STFrames.html) Palm version from Peter Spronk. [New site](https://www.spronck.net/spacetrader/).

Useful Source Repositories:

* [Space Trader from Peter Spronk on GitHub](https://github.com/videogamepreservation/spacetrader)
* [Space Trader from Jay French on GitHub](https://github.com/SpaceTraderGame/SpaceTrader-Windows)
* [Android version of Space Trader from Russel Wolf aka brucelet](https://bitbucket.org/brucelet/space-trader/src), [Official site](http://spacetrader.brucelet.com/)
* [Android version of Space Trader from Benjamin Schieder aka blind-coder](https://github.com/blind-coder/SpaceTrader), [Official site](https://www.benjamin-schieder.de/)
* [Dark Nova - iOS, Android sources](https://github.com/deadjim/dark-nova-android)

[Other implementations on GitHub](https://github.com/search?q=space+trader)

[Changelog](changelog.md)

## Overview
   
Space Trader is a complex game, in which the player's aim is to amass enough money to be able to buy a moon to retire to. The player starts out with a small space ship, armed with one simple laser, and 1000 credits in cash. The safest and easiest way to earn money is to trade goods between neighbouring solar systems. If the player chooses the goods to trade wisely, it isn't too difficult to sell them with a profit. There are other ways to get rich, though. You might become a bounty hunter and hunt down pirates. It is also possible to become a pirate yourself and rob honest traders of their cargo. Beware, though: pirating is a way to get rich quickly, but the police force will go after you.

## Features
   
Some of the features of Space Trader are:
   
* Ten different trade goods are available, two of which are considered to be illegal but can bring great profits.
* Ten different ship types are available, some of which are especially suitable for trading, some for pirating, and others for both. Ships differ in size, the distance they can travel, their hull strength, the number of weapons, shields and gadgets they can carry, the number of cargo bays and the number of crew quarters that are available.
* Ships can be equipped with different selections of equipment, among which are several types of lasers, several types of shields, an escape pod and certain special gadgets like a cloaking device.
* You can distribute skill points over your character at the start of the game, to allow you to function well in your chosen role. For the skills your character lacks, mercenaries can be hired which may have different skills.
* There are more than a hundred solar systems in the galaxy, with different sizes, tech levels, governments, resources and special situations. These are not just for background color, but play a vital role in the game.
* While travelling to another solar system, you might encounter police ships, pirates and other traders. There are several ways to handle such encounters. You can even force a trader to allow you to plunder his ship.
* There are about a dozen unique missions and offers available, some of which may bring great special rewards.
* The ships are displayed graphically during an encounter. There are also large pictures during key moments of the game.


## Introduction

You grew up as a member of a small colony on a planet in a solar system that is part of the Great Galactic Federation (GGF). You worked on your family's farm, dreaming about a life as an intergalactic trader. You imagined yourself buying goods on one system, selling them on another making huge profits, battling pirates, finding opportunities and perhaps, one day, buy your own moon to which you could retire to live a wealthy and peaceful life for the rest of your days.
After your parents died, as their only child you inherited the farm. Since it would be too difficult to run it all on your own, you saw your chance clear and sold it to a neighbour. With the earnings, you bought a second-hand space ship of the Gnat type, equipped it with one pulse laser, and went to the local GGF space port to buy trade goods with your last 1000 credits. This is where your life as a space trader begins.

## Your Job as a Space Trader

Your ultimate goal as a space trader is to amass enough money so you can buy your own moon, then claim that moon to retire to it. You need a lot of money for that, and will encounter many dangers, so along the way you might want to buy a better ship and better equipment.
At first, the main point is to stay alive, and earn some money by trading. The GGF has a space port in every solar system, where goods locally produced are sold, and goods the locals need are bought. A good trader will judge, based on the systems tech level, government type, resources and current situation, which goods are cheap and which are expensive in a system, and will adapt his trading strategy accordingly.
Later on, when you are better equipped, you might try to become a bounty hunter alongside your trading job. If you feel so inclined, you might also become a pirate and rob other traders of their goods. Being a pirate can be very profitable, but remember that the police will try to hunt you down, and that, as a pirate, you cannot sell goods out in the open (even those that you bought legally). You need an intermediary to sell your goods, and this sleazy person will take 10% of everything your cargo sells for. This makes the return to an honest life all the more difficult. 

## Spaceships

Every type of ship has certain characteristics, making some ships better for trading and others better for pirating or bounty hunting. Your first ship, of the Gnat type, is mainly used for trading since it is rather weak and has few defensive capabilities. You might be able to win a few battles with it, though, especially if you are a good fighter. Later on, you can buy a ship better suited to your purpose.

Ships differ in their hull strengths, number of cargo bays, number of weapon slots, number of shield slots, number of gadget slots, number of crew quarters and maximum travelling range. At the Ship Yard, they will be able to inform you about the capabilities of each ship. 

When you decide to buy a new ship, you trade in your old one, including its equipment. The worth of your ship, including its cargo and equipment, is subtracted from the price of the new ship. You should be warned that if you have cargo on board which the people in the current system don't want, you will lose that cargo without any compensation. You therefore better sell a ship with empty cargo bays. If you have an escape pod installed on your old ship, that will be transferred to your new ship. Any insurance you have will also be transferred, including no-claim. 

Equipment you can buy for your ship is divided in three groups. The first group consists of weapons, and you can select one of three types of lasers for each weapon slot. The more expensive a laser, the more power it has. The second group consists of shields, and you can choose one of two shields for each shield slot. The more expensive the shield is, the better the protection it gives. The last group consists of gadgets, which may enhance certain functions of a ship. 

The most important part of a spaceship is its hull. If the hull strength is reduced to zero percent during a fight, the ship will explode, killing everyone on it and destroying everything it was carrying. You might fly your ship with a low hull strength, but it is best not to do that. Repairs can be made at the Ship Yard and are fairly cheap, especially for the smaller ship types. The only way to survive the destruction of your ship is to have an escape pod installed, which will eject you automatically when your ship can't be saved anymore. 

## Travelling through Space

Space travel consists of a four-step procedure: 
* *Leaving the space port*. After you have refuelled your ship, sold your cargo, bought new goods, and perhaps made some repairs, you simply ask the control tower for permission to depart, and fly your ship into space. 
* *Warping to another system*. As soon as you have left the space port area, you activate your warp engine. The warp engine creates a hyperspace bubble around your ship, and you get transported to your target system instantly. This is what actually consumes the fuel. You materialise at a safe distance from the target system's space port, usually about 20 clicks. 
* *Approaching the target space port*. The last few clicks en route to the target space port are the most dangerous of your journey. You may and very probably will encounter several other ships, among which there may be fellow traders, police ships, and pirates. Fellow traders won't attack unless provoked. The police might ask you to submit to an inspection, of which an honest trader, who doesn't deal in illegal goods (firearms and narcotics), has nothing to fear. Pirates will often attack you on sight. 
* *Docking at the target space port*. When you have reached the target space port, you are safe from interventions by other ships, and you can dock at your leisure after you have asked permission of the control tower.
A few solar systems are lucky to have a wormhole nearby. A wormhole is a rift in the space-time continuum, which leads directly from one place in the galaxy to another. You can use the wormhole to travel to another system in an instant, even if that other system is at the other end of the galaxy. You can only enter a wormhole from the space port of the system that owns it. That system will tax you for the use of the wormhole. The tax depends on your ship type: poor traders with a small ship pay considerably less than rich traders with a huge ship. On the plus side: you won't spend any fuel travelling through a wormhole, which compensates partly for the tax. 

## Skills and Mercenaries

There are four basic skills important to a trader. You will probably excel in one or two skills, and lack in the others. However, you can compensate for that by hiring mercenaries. Mercenaries have skills just like you, and if a mercenary is, for instance, a better pilot than you are, he or she will take over your piloting duties when needed. Mercenaries can sometimes be hired at a space port. Just examine the Personnel Roster to see if anyone is available. If you hire a mercenary, you have to pay him or her a certain amount of credits daily. You have to cough these up right before you warp, otherwise the mercenary simply won't travel with you, but instead return to his or her home system. 

### Pilot

The pilot skill determines how well you pilot your ship. A high piloting skill will enable you to flee from attacks easily, dodge attacks, and to stay on the tail of fleeing ships if you want to keep attacking them. This makes the piloting skill important to both traders and pirates. A navigating system will enhance your piloting capabilities. 

### Fighter

The fighter skill determines how well you handle your weapons, in particular, how easy it is for you hit another ship. A trader who isn't interested in a pirating or bounty hunting career hasn't that much use of this skill, but for a pirate it is an absolute must. A targeting system will enhance your fighting capabilities. 

### Trader

The trader skill determines what prices you must pay for trade goods, ships and equipment. A good trader can reduce prices up to 10%. This makes a high trader skill invaluable for traders, while pirates have less use for it. In the early stages of your life as a trader you might have a hard time getting any money if you work with low trading capabilities. 

### Engineer

The engineer skill determines how well you keep your ship in shape. A good engineer may keep your hull and shields intact during a fight, will repair them quicker while travelling, and may even enhance your weaponry a bit so it does more damage. This makes the engineer skill important for both traders and pirates. An auto-repair system will enhance the engineering capabilities. 

## An Encounter in Space

Sooner or later you will encounter other ships in space. Depending on the type of encounter, several things can happen. 

### An Encounter with a Trader

When you encounter a trader, the trader will usually ignore you. Occasionally a trader will hail you to ask whether you want to trade some goods. The deal offered might be good, but the trader might try to rip you off. Caveat emptor. If you have a bad reputation, the trader might flee on sight. A trader will never initiate an attack, but may respond aggressively when you do. While fighting, you have the option to continue attacking or to flee. If a trader finds the fight goes bad for him and he can't manage to flee from you, he will often surrender to you. If he surrenders, you may continue attacking, but you best accept his offer, because after that you can plunder his cargo holds. If you don't have enough room to store all the nice goods you rob, you can dump some of your own cargo is space. Beware, however, that space littering is frowned upon by the police and such actions will go on your record if they are noticed. 

### An Encounter with a Pirate

A pirate will usually attack as soon as he sees you, unless your reputation is such that he is afraid of you, in which case he might flee. While fighting a pirate, you can attack him or try to flee. You can even surrender to him, but in that case he will plunder your cargo holds. If you think you are smart and have nothing in your holds, he will extort cash from you under the threat of blowing your ship up. Surrender is therefore a bad option, though it is better than fighting to the death. In rare cases a pirate might decide to surrender to you. Plundering his ship usually isn't as profitable as plundering a trader, because a pirate tends to travel with many empty holds to store the goods he intends to get by robbing traders. 

### An Encounter with the Police

As long as you are an honest trader, the police will usually ignore you. They may ask you to submit to an inspection of your cargo bays. As long as you are not carrying illegal goods (firearms or narcotics), you have nothing to worry about: they will search your holds, apologize, and up the status on your police record, indicating that you are someone who doesn't need to be searched that often. However, if you are carrying illegal goods, you best not let them search you, because then they will impound the illegal goods and fine you. Instead of agreeing to an inspection, you can try to bribe them. Depending on the type of government of the system, this is either impossible (if they are incorruptible), or costs an amount of money depending on how easy police officers under such a government can be bribed. It is always a good idea to explore the option of bribery: you can decide not to bribe them when you see how much money they want, but you might get away cheap. The other options you have are to flee, or to attack them, in which case they will certainly attack you. Both fleeing and attacking will seriously damage your standing with the police. When your police record indicates that you are a criminal, police ships won't ask for an inspection anymore, but will attack you on sight. If your reputation indicates that you are too dangerous an opponent for them, they also might flee immediately. When they consider you a really dangerous criminal, they will send more and better ships after you. You can surrender to the police, as long as you are not considered a psychopath they rather take in dead. If you do, you will be taken to a court of law and tried. You will have to spend some time in prison and pay a fine. If you don't have the credits to settle your fine, the police will sell your ship and will pay the fine out of the profits. If they need to do that, they will usually supply you with a second-hand Flea when you leave prison. To avoid you having to pay huge interests on a loan, if you have the credits, the police will usually also settle those debts from your cash. Also remember that you can't pay your mercenaries and insurance from your cell, so your hired hands will leave you and your insurance will be stopped. 

### Destruction

When things come to a fight, and no-one manages to escape and no-one surrenders, the fight will end in the destruction of one or both ships. If you get destroyed, and you have no escape pod, you will perish with your ship. If you survive and your opponent gets killed, if you are lucky one of the cargo canisters from his ship will drift in your direction and you can pick it up. 

## Trade Goods

There are ten different goods you can trade. The first four (water, furs, food and ore) are natural resources, which are cheapest in low-tech systems. The other six (games, firearms, medicine, machines, narcotics and robots) are industrial goods and are cheapest in high-tech systems. Basically, the price of natural goods increases with the tech level, while the price of industrial goods decreases. 
The price indications mentioned below are prices which you can expect when no special situations take place and systems don't have any special resources. Special situations and special resources can dramatically influence the price you have to pay or the price you get for trade goods. Your best bet is to exploit these special circumstances, because they are your ticket to quick richness. 

### Water

Water can be bought and sold in any system. Prices will vary mostly in the 30 to 54 credits range. Desert planets will pay usually pay extra for water, while on planets with sweetwater oceans it can be pretty cheap. During a drought, the price of water will rise considerably. 

### Furs

Furs are made from the hides of animals indigenous to a system. They can be bought on any system. Prices will vary mostly in the 250 to 320 credits range. A lifeless system will pay more for furs, and a system with rich fauna will have them available cheaply. During a cold spell, the price of furs will certainly increase. 

### Food

Except for pre-agricultural systems, food can be bought in all systems. Prices will vary mostly in the 105 to 135 credits range. The soil quality will influence the price of food: rich soil makes it cheaper, poor soil more expensive. When there is a crop failure, the price of food will rise. 

### Ore

Ore consists of raw materials, which are usually bought by hi-tech systems from low-tech systems, so they can use them to produce hi-tech goods. Agricultural systems won't have developed enough to be able to mine ore, but you can buy it in any system with a higher tech level. Prices will vary mostly in the 390 to 490 credits range. The abundance of minerals in a system influences the price of ore: it's cheap in a mineral rich system, and expensive in a mineral poor system. During war time, ore is needed for the production of ammunition and therefore quite expensive.
 
### Games

Games are used for relaxation and entertainment, whether they are board games, computer games or dolls. After a system has gone through medieval times and people have become free spirits, games get produced and sold. Prices will vary mostly in the 180 to 240 credits range. They will be cheaper if the solar system that sells them has a particularly artistic populace. You best sell them to systems where people are bored, since this will fetch you the highest price. 

### Firearms

The GGF strictly forbids the trade in firearms, and the patrolling police will impound them if they find them in your cargo holds. However, once docked you will often be able to sell them for a good price, unless the government is so strict that people don't dare to trade them. Firearms which are of interest as trade goods (even if only for their collector's value) are produced in systems which have at least left the middle ages behind them. Prices vary mostly in the 725 to 1175 credits range. A warlike population will produce more weapons than usual and will sell them therefore cheaper. Of course, where there is a war they will sell for considerably higher prices. 

### Medicine

Medicine is produced by early industrial systems and higher tech levels. Prices vary mostly in the 510 to 630 credits range. Systems which have special herbs as natural resources can produce them cheaper, while systems which suffer under a plague will pay a lot for them. 

### Machines

Machines are produced by early industrial systems and higher tech levels. Prices vary mostly in the 690 to 810 credits range. Where there is a lack of workers, you'll find machines sell the best.

### Narcotics

Like firearms, the GGF strictly forbids trafficking drugs. However, they are often in high demand, even in low-tech systems, and it can be very worth your while to try to sneak them past the police. Industrial systems and higher tech levels can produce them. Prices vary mostly in the 2625 to 3500 credits range. Some systems find there are weird mushrooms among their natural resources, which produce excellent drugs for a cheap price. You best sell them in systems where people are bored. 

### Robots

Robots are the ultimate hi-tech good, and a system needs at least to have entered the post-industrial era to produce them. Prices vary mostly in the 3950 to 4400 credits range. Especially systems which lack workers have a need for robots and will pay the most for them. 

## Equipment

Available equipment for your ship consists of weapons, shields, gadgets and an escape pod. 

### Weapons

There are three types of lasers: pulse lasers, beam lasers and military lasers. The tech level of a system determines whether and which lasers are sold there. Military lasers are the best, but also the most expensive. If you have more than one weapon slot on your ship, it is probably wise to first fill them all before you start to buy better lasers. Two pulse lasers often do more damage than one beam laser, and are cheaper overall. If you have no weapon slots on your ship, or have bought no weapons, you won't be able to attack. 

In the extended version of the game, another laser model was added that was available after the quest was completed, as well as two types of disruptors, very interesting tools that disable electronics on an enemy ship, turning off all of its systems, including the life support system.

### Shields

There are two types of shields: energy shields and reflective shields. The tech level of a system determines whether and which shields are sold there. Reflective shields are the best. Shields protect your hull from damage. When you are attacked, first your shields are depleted, and only after they have been reduced to zero percent, your hull is damaged. During your travels, your shields are automatically recharging, and while you are docked at a space port they always recharge to 100%.

In the extended version of the game one more quest shield is available.

### Gadgets

There are five types of gadgets available. The tech level of a system determines whether and which gadgets are sold there. 
* For a beginning trader, the most interesting gadget is probably 5 extra cargo bays. These are fairly cheap and allow you to carry more cargo, so you probably earn them back quickly. If there is more than one gadget slot on your ship, you can even install more than one of this gadget, increasing your cargo bays even more. 
* A navigating system helps you piloting your ship.
* An auto-repair system helps your engineering functions.
* A targeting system helps you handle your weaponry. 
* A cloaking device is perhaps the most interesting gadget a trader can buy. It is very expensive, but it allows you to travel through space undetected, as long as you don't attack. However, a good engineer might detect a cloaked ship by its warp signature. The only way to avoid being detected is to employ your own engineering skills to fluctuate your warp signature. If a ship you pass has a better engineer than your own ship, you can't expect to stay undetected, though. But even if you are detected, your cloaking device is useful, since it makes you more difficult to hit and you can escape more easily.

In the extended version of the game you can get two more very interesting and useful quest gadgets.

### Escape Pod

An escape pod can be bought at the Ship Yard. If you have one installed, when your ship gets destroyed it is activated automatically and ejects your crew and yourself. The Space Corps will pick you up in a few days time and drop you off at a nearby system. There you can convert the pod to a ship and continue your journey, though your original ship and cargo will be lost. 

### Insurance

If you have an escape pod installed, you can at the bank buy insurance for your ship. If you have insurance the bank will refund your ship's trade-in value in the case of an escape pod ejection. You have to pay a daily rate, which depends on the worth of your ship, for the insurance. This rate will drop 1% for every day you don't claim, up to a reduction of 90%. Since the no-claim gets transferred to a new ship when you buy one, it may be useful to rack up your no-claim days with a cheap ship, before you buy an expensive one. Note that after an ejection, you have to buy a new escape pod and thus new insurance. Your no-claim will be reset to 0%. 

## How to start

The game is written in Java 8. While it is still in active development, and I don't have time to make a friendly installer for it.

First you need to install JRE (Java Runtime Environment) or JDK. It sounds scary, but, in fact, this is just another program on your computer, a virtual machine in which the game will run.

### Windows

If you do not plan to write programs in Java, it will be sufficient to install the JRE. The game was tested for Java with version 8, so if there is no acute need in the 11th version, then set yourself the 8th.

[Download Java from Oracle site](https://www.oracle.com/technetwork/java/javase/downloads/index.html)

Next you need to download these two files:

* `space-trader.bat`
* `space-trader-%currentVersion%.jar`

and run the first one.

### Linux

If you have Linux installed, it means that you are a more or less experienced user and are able to install Java yourself.

To start the game, you need to run the command:

`java -jar space-trader-%currentVersion%.jar`

If you have `wine` installed, then you can safely run `space-trader.bat`.

## Other

* Those who wish to improve the Russian translation are invited. [Download script](english-russian.xls)
* Everyone who wants to translate the game into their native language is also welcome. Write to me, I'll tell you what you need to do.
* Also, I will be glad to anyone who offers a fascinating quest, any interesting name for the planet, or the name of a mercenary.
* Any suggestions and recommendations are welcome.
* Have a nice game

## TODO

* Can't see started quest
* Instead of dialog with buyer I see dialog about hidden. Need REAL switch
* Clean language files (sculpture, hidden)
* Dump/translate
* Fully test
* Lottery - where my money???

### Princess

* v Write docs for all quest events (ON_...), reorder them
* v Special Button doesn't disappear
* v Strange bug in Commander.hashCode
* Increase difficulty, depends on game difficulty (days to delivery)
* v Encounters
* v ShipSpec - in game map: ID -> ShipSpec
* v Add Scorpion ShipSpec
* v Create ship by this spec ID
* v Register Girl end type
* v Process game ending with Girl
* v Game ending with Princess

### Jarek

* Increase difficulty, depends on game difficulty (days to delivery). Don't give computer when > Normal, instead money

### Shipyard

* Investigate - when new shipyard - can receive 600%
* Correlian - hull strength - 200 minimum, no max (JAF). Cargo bays - no limit. Need to test

### Monster.com

* Monster.com - rename cheat, form name (not MonsterCom)
* MonsterCom: Show only current phase of quest. CheckBox for full view (only for cheat/debug)
* MonsterCom - second click - order reverse
* Quest panel with scrolling
* Panel - Quest Persons: all persons from quests; Show planet. If onboard - onboard
* All quests - to land passengers on the planets?

### Translate

* ~~Translate all quests~~
* FormInput, FormViewCommander translate
* FormMonsterMenuItem, CheatsMenu -> Strings, languages
* FileDialogs - hide translation logs
* FormTests, FormAlertTests - refactor, translate
* На растоянии 1 клик от системы...

### Other

* Different image sizes, font sizes (config)
* Installers: http://www.jrsoftware.org/isdl.php
* Installers: https://github.com/nebula-plugins/gradle-ospackage-plugin
* Full Russian description, FAQ
* Dig about Star Trader for C16

### Minor tasks

* Need to update font sizes. Dump all too.

## Feature requests

* Show in Cargo planet names (target)
* Rewrite CargoBuyStatement, CargoSellStatement. Can't translate to Russian
* On sell, plunder, jettison - show goods with bold
* Sell - add goods to planet
* Save last search phase in Find form
* Buy/Sell equipment - CheckBox, which offers all equipment in debug/cheat modes

## Known bugs:

* When finish game - see > 100% percents, but in HighScores all OK.
* Many dialogs don't allow to close them from [x]
* FormShipyard: Trying to set unknown background: color at 0x0: 0 0 0 0 (Color.BLACK)
* FormJettison - incorrect flow when try to dump all - first message about littering, second must be: EncounterDumpAll, AlertsEncounterDumpAllMessage,
* When fire mercenary - he disappears forever
* 2 latest bugs from https://sourceforge.net/p/spacetraderwin/bugs/
* Commander status, Find system - truncated window sometimes
* What to do with ending title?? It's too long :(
* Commander status - Всеобщий любимец (70) under button
* Bug - when 5 gadget slots - cant install 5 extra hidden bays. When decrease to 4 - can.
* After disabling can fully destroy without encounter ending
* Stolen Sculpture - Special Button does not disappear with a single click

## Regressions:

* Bold font for labels on main screen, formEncounter. Source: new `tahomabd.ttf`

## TODO list of Jay French

* make shipyard news advertisements
* rework escape pod sequence
* create images for trade goods
* passenger modules
* courier quests
* more very rare encounters
* Bug - after prison - Ziyal onboard, can finish quest

## Far perspectives

* ~~Quests engine~~
* Standard game, Extended game
* JavaFX UI
* Full-windowed
* Site
* ~~FAQ, description~~
* New interesting quests
